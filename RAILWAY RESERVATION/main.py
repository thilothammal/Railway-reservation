import random
import mysql.connector
import PIL
from PIL import ImageTk,Image
mydb=mysql.connector.connect(
 host="localhost",
 user="sharan",
 password="2717",
 database="railway"
)
mycursor=mydb.cursor()
mycursor.execute("select * from TRAIN")
myresult=mycursor.fetchall()
import tkinter as tk
from tkinter import *
def account():
 inp1=username_box.get()
 usrname=inp1
 a1.config(text="YOUR USERNAME: "+inp1)
 inp2=password_box.get()
 psword=inp2
 a2.config(text="YOUR PASSWORD: "+inp2)
 mycursor.execute("insert into USER(username,passcode) values(%s,%s)",(usrname,psword))
 mydb.commit()
 reg=Button(text="REGISTER",bg='yellow',fg='black',command=save)
 reg.place(x=80,y=320) 
def user():
 p1=Label(text="Your Name :",font=('Calisto MT',10,"bold")).place(x=70,y=260)
 p2=Label(text="Your Age :",font=('Calisto MT',10,"bold")).place(x=70,y=280)
 p3=Label(text="Your Gender :",font=('Calisto MT',10,"bold")).place(x=70,y=300)
 p4=Label(text="Choose Your Seat:",font=('Calisto MT',10,"bold")).place(x=70,y=320)
def sw():
 tnam=Label(text="TRAIN NAME :").place(x=70,y=140)
 no=Label(text="TRAIN NUMBER :").place(x=70,y=160)
 arr=Label(text="ARRIVAL TIME :").place(x=70,y=180)
 dep=Label(text="DEPARTURE TIME").place(x=70,y=200)
 sou=Label(text="SOURCE").place(x=70,y=220)
 des=Label(text="DESTINATION").place(x=70,y=240) 
def save():
 def us(): 
 name=tk.StringVar()
 age=tk.StringVar()
 Gender=tk.StringVar()
 seat=tk.StringVar() 
 e1=Entry(textvariable=name,width='40').place(x=200,y=260)
 e2=Entry(textvariable=age,width='40').place(x=200,y=280)
 e3=Entry(textvariable=Gender,width='40').place(x=200,y=300)
 e4=Entry(textvariable=seat,width='40').place(x=200,y=320)
 def pr():
 s2.destroy
 s3=tk.Tk()
 s3.geometry("1000x1000")
 s3.title("online booking")
 yn=name.get()
 ya=age.get()
 yg=Gender.get()
 ys=seat.get()
 l7=Label(s3,text="INDIAN RAILWAYS"+yn).place(x=180,y=40)
 l9=Label(s3,text="***YOUR TICKET IS BOOKED SUCCESSFULLY****"+yn).place(x=70,y=70)
 l1=Label(s3,text="PASSENGER NAME :"+yn).place(x=100,y=100)
 l2=Label(s3,text="AGE :"+ya).place(x=100,y=125)
 l3=Label(s3,text="GENDER :"+yg).place(x=100,y=150)
 l4=Label(s3,text="SEAT :"+ys).place(x=100,y=175)
 c=random.randint(1000000000,9999999999999)
 d=str(c)
 l5=Label(s3,text="PNR NO :"+d).place(x=100,y=200)
 A8=Button(s3,text="DOWNLOAD AS PDF",bg='red',fg='black').place(x=110,y=230)
 tic=Button(text="BOOK TICKETS",bg='red',fg='black',command=pr).place(x=100,y=360)
 def f1():
 tna=Label(text="Shatabdi express ").place(x=200,y=140)
 tno=Label(text="3087").place(x=200,y=160)
 at=Label(text="2021-10-05 12:30:00").place(x=200,y=180)
 dt=Label(text="2021-10-05 17:00:00").place(x=200,y=200)
 so=Label(text="Chennai ").place(x=200,y=220)
 des=Label(text="Bangalore ").place(x=200,y=240)
 sw()
 user()
 us()
 def f2():
 tna=Label(text="Delhi express ").place(x=200,y=140)
 tno=Label(text="4110").place(x=200,y=160)
 at=Label(text="2021-10-05 01:30:00").place(x=200,y=180)
 dt=Label(text="2021-10-05 05:00:00").place(x=200,y=200)
 so=Label(text="Delhi ").place(x=200,y=220)
 des=Label(text="Kolkatta ").place(x=200,y=240)
 sw()
 user()
 us()
 def f3():
 tna=Label(text="Gatimaan express ").place(x=200,y=140)
 tno=Label(text="8921").place(x=200,y=160)
 at=Label(text="2021-10-05 02:30:00").place(x=200,y=180)
 dt=Label(text="2021-10-05 06:00:00").place(x=200,y=200)
 so=Label(text="Delhi ").place(x=200,y=220)
 des=Label(text="Agra ").place(x=200,y=240)
 sw()
 user()
 us()
 def f4():
 tna=Label(text="Bhopal Shatabdi ").place(x=200,y=140)
 tno=Label(text="8921").place(x=200,y=160)
 at=Label(text="2021-10-05 02:30:00").place(x=200,y=180)
 dt=Label(text="2021-10-05 06:00:00").place(x=200,y=200)
 so=Label(text="Mumbai ").place(x=200,y=220)
 des=Label(text="Gujarat ").place(x=200,y=240)
 sw()
 user()
 us()
 def f5():
 tna=Label(text="Sealdah Duronto ").place(x=200,y=140)
 tno=Label(text="1591").place(x=200,y=160)
 at=Label(text="2021-10-27 08:30:00").place(x=200,y=180)
 dt=Label(text="2021-10-27 10:50:00").place(x=200,y=200)
 so=Label(text="Delhi ").place(x=200,y=220)
 des=Label(text="Bhopal ").place(x=200,y=240)
 sw()
 user()
 us()
 def f6():
 tna=Label(text="Goti express ").place(x=200,y=140)
 tno=Label(text="8020").place(x=200,y=160)
 at=Label(text="2021-10-14 12:30:00").place(x=200,y=180)
 dt=Label(text="2021-10-14 03:20:00").place(x=200,y=200)
 so=Label(text="Kanpur ").place(x=200,y=220)
 des=Label(text="Howrah ").place(x=200,y=240)
 sw()
 user()
 us() 
 s1.destroy()
 s2=tk.Tk()
 s2.geometry("1000x600")
 s2.title("SAVE")
 choose=Label(text="Choose your train").place(x=0,y=1)
 i=3
 for TRAIN in myresult:
 for j in range(len(TRAIN)):
 e=Entry(s2,width=17)
 e.grid(row=i,column=j)
 e.insert(END,TRAIN[j])
 i=i+1
 r1=Button(text="BOOK NOW",bg='yellow',fg='black',command=f1).place(x=890,y=1)
 r2=Button(text="BOOK NOW",bg='yellow',fg='black',command=f2).place(x=890,y=18)
 r3=Button(text="BOOK NOW",bg='yellow',fg='black',command=f3).place(x=890,y=36)
 r4=Button(text="BOOK NOW",bg='yellow',fg='black',command=f4).place(x=890,y=54)
 r5=Button(text="BOOK NOW",bg='yellow',fg='black',command=f5).place(x=890,y=74)
 r6=Button(text="BOOK NOW",bg='yellow',fg='black',command=f6).place(x=890,y=93)
s1=tk.Tk()
s1.geometry("800x500")
s1.title("Railway Ticket Booking")
s1.configure(bg='blue')
heading=Label(text="Railway reservation form",bg="orange",width="500",height="3")
heading.pack()
username=Label(text=" Enter Username here",bg="light green",font=('Calisto MT',10,"bold"))
username.place(x=80,y=110)
password=Label(text="Enter Password here",font=('Calisto MT',10,"bold"))
password.place(x=80,y=160)
username_box=Entry(textvariable=username,width='40')
password_box=Entry(textvariable=password,show='*',width='40')
username_box.place(x=100,y=137)
password_box.place(x=100,y=187)
c=Button(text="CREATE ACCOUNT",bg='yellow',fg='black',command=account)
c.place(x=80,y=213)
a1=tk.Label(s1,text="")
a1.place(x=100,y=250)
a2=tk.Label(s1,text="")
a2.place(x=100,y=280)